# バクスイ プロジェクトガイド（プロトタイプ版）

## プロダクト方針

**今回のプロトタイプで作るもの**
1. それっぽいUI（再生/停止、インターバル調整）
2. 音声ファイル群（assets配下に直接配置）
3. いい感じにシャッフルする機能（ランダム/寝やすい順序）
4. 音声ファイルを足せる口（将来対応・今回はスタブ）

PC連携やZIPインポートは**将来対応**。まずは最小限で動くものを作る。

---

## Androidアプリ仕様（プロトタイプ）

### 画面構成
**1画面のみ**
- 再生/停止ボタン
- インターバル調整スライダー（500〜3000ms）
- シャッフルモード選択（ランダム/寝やすい順序）
- 現在再生中の単語表示（オプション）
- 音声追加ボタン（スタブ・将来対応）

### 音声ファイル配置
- `app/src/main/assets/audio/` 直下に `.wav` ファイルを配置
- ファイル名例: `word_001.wav`, `word_002.wav`, ...
- JSON等のインデックスは不要。ファイル列挙で取得

### シャッフルロジック
1. **完全ランダム**: `shuffle()` で毎回ランダム化
2. **寝やすい順序**: 
   - 母音で始まる単語を優先配置
   - 短い音声を優先配置
   - カテゴリ（将来：名詞→動詞→形容詞等）でバランス

### 再生ロジック
1. assets/audio/ 内の全WAVファイルをリスト化
2. 選択されたモードでシャッフル
3. 先頭から順に再生
4. 再生完了 → インターバル待機 → 次へ
5. 停止ボタンで中断

### 技術スタック
- Kotlin + Jetpack Compose（1画面）
- MediaPlayer（WAV再生）
- AssetManager（音声ファイル列挙）

---

## 将来の拡張（今回は対応しない）
- ZIPインポート機能
- パック管理（複数パック切り替え）
- PC生成ツールとの連携
- 詳細な設定（フェードアウト、タイマー等）

---

## ディレクトリ構成（プロトタイプ）
```
android_app/
└── app/src/main/
    ├── assets/audio/          # 音声ファイル直置き
    │   ├── word_001.wav
    │   ├── word_002.wav
    │   └── ...
    └── java/jp/hsbl/bakusui/
        ├── MainActivity.kt
        ├── PlaybackScreen.kt  # 1画面のみ
        └── AudioPlayer.kt     # 再生ロジック
```

---

## 開発の進め方
1. UI実装（再生/停止、スライダー）
2. assets配下に音声配置
3. シャッフルロジック実装
4. 再生ロジック実装
5. 動作確認

シンプルに、素早く。
